{% load static %}
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="mobile-web-app-capable" content="yes">
<title>Feedback Page</title>
<!-- Tell the browser to be responsive to screen width -->
<meta
	content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
	name="viewport">
<!-- Bootstrap 3.3.7 -->
<link rel="stylesheet"
	href="{% static 'bower_components/bootstrap/dist/css/bootstrap.min.css' %}">
<!-- Font Awesome -->
<link rel="stylesheet"
	href="{% static 'bower_components/font-awesome/css/font-awesome.min.css' %}">
<!-- Ionicons -->
<link rel="stylesheet"
	href="{% static 'bower_components/Ionicons/css/ionicons.min.css' %}">
<!-- Theme style -->
<link rel="stylesheet"
	href="{% static 'dist/css/AdminLTE.min.css' %}">
<!-- AdminLTE Skins. Choose a skin from the css/skins
       folder instead of downloading all of them to reduce the load. -->
<link rel="stylesheet"
	href="{% static 'dist/css/skins/_all-skins.min.css' %}">
<link rel="stylesheet"
	href="{% static 'css/Feedback1.css' %}">


<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

<!-- Google Font -->
<link rel="stylesheet"
	href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">
</head>
<body>
		<header class="navbar">
			<nav>
				<div class="nav-top" style="display: block;">
			            <div class="">		            	
			              
			                <div class="page-logo">
			                	<img alt="Logo Home Credit VN" src="{% static 'images/logo-hc.png' %}">
			                </div>
			         
			            </div>
				</div>	
			</nav>
		</header>
		
		<!-- Content Wrapper. Contains page content -->
		<div class="background">
		    <!-- Main content -->
		    <section class="content">
		    	<div class="row">
		    		<h1><b>Đánh giá độ hài lòng của khách hàng</b></h1>
		    	</div>
		    	<div class="row">
		    	<div class="correct-way a-way">
		    		<div id="block_div" class="correct-wrapper item-wrapper">
			      		<div class="inline">
			      			<form id="customerForm1">	      			
	      						<input class="border" id="block1" type="image" 
	      							src="{% static 'images/f5.png' %}" alt="Submit">
	      					</form>
	      					<h3><strong>Rất Tệ</strong></h3>
						</div>
			      		<div class="inline">
			      			<form id="customerForm2">	      			
	      						<input class="border" id="block2" type="image" 
	      							src="{% static 'images/f4.png' %}" alt="Submit">
	      					</form>
	      					<h3><strong>Tệ</strong></h3>
						</div>
			      		<div class="inline">
			      			<form id="customerForm3">	      			
	      						<input class="border" id="block3" type="image" 
	      							src="{% static 'images/f3.png' %}" alt="Submit">
	      					</form>
	      					<h3><strong>Bình Thường</strong></h3>
						</div>
			      		<div class="inline">
			      			<form id="customerForm4">	      			
	      						<input class="border" id="block4" type="image" 
	      							src="{% static 'images/f2.png' %}" alt="Submit">
	      					</form>
	      					<h3><strong>Tốt</strong></h3>
	      				</div>
			      		<div class="inline">
			      			<form id="customerForm5">	      			
	      						<input class="border" id="block5" type="image" 
	      							src="{% static 'images/f1.png' %}" alt="Submit">
	      					</form>
	      					<h3><strong>Rất Tốt</strong></h3>
	      				</div>
		      		</div>
		      	</div>		    		
		    	</div>		      		      
		    </section>
		    <!-- /.content -->
	  </div>

	
	<!-- jQuery 3 -->
	<script
		src="{% static 'bower_components/jquery/dist/jquery.min.js' %}"></script>
	<!-- Bootstrap 3.3.7 -->
	<script
		src="{% static 'bower_components/bootstrap/dist/js/bootstrap.min.js' %}"></script>
<!-- SlimScroll -->
	<script
		src="{% static 'bower_components/jquery-slimscroll/jquery.slimscroll.min.js' %}"></script>
	<!-- FastClick -->
	<script 
		src="{% static 'bower_components/fastclick/lib/fastclick.js' %}"></script>
	<!-- AdminLTE App -->
	<script 
		src="{% static 'dist/js/adminlte.min.js' %}"></script>
	<!-- AdminLTE for demo purposes -->
	<script 
		src="{% static 'dist/js/demo.js' %}"></script>
	<script 
		src="{% static 'js/jquery.blockUI.js' %}"></script>
	
			
<!-- Page script -->	
<script>
//Send data with form 1
$(document).ready(
		function() {		
			
	        submit();
	        $('#block_div').click(function() { 
		        $.blockUI({ 
					css: { 
						width: '30%',
						border: 'none', 
						padding: '15px', 
						backgroundColor: '#000', 
						'-webkit-border-radius': '10px', 
						'-moz-border-radius': '10px', 
						opacity: .7, 
						color: '#fff' 
						} ,
					message: "<div><h3><b style='color: white;'>Cảm ơn sự đánh giá của anh chị</b>  <i class='fa fa-check' style='color: #33ff33'></i></h3></div>"
					}); 
	        setTimeout($.unblockUI, 10000);   
	       	setTimeout(function()
	        	{
	            window.location.href = window.location.href
				}, 10500);
	        
	  }); 
});

	function addVote(e) {		
		var point = 0;
		
		if (e == "customerForm1") {
		    point = -2;
		}
		if (e == "customerForm2") {
		    point = -1;
		}
		if (e == "customerForm3") {
		    point = 0;
		}
		if (e == "customerForm4") {
		    point = 1;
		}
		if (e == "customerForm5") {
		    point = 2;
		}
		console.log(point);
        // ajax call controller
		$.ajax({
				type : 'POST',
				contentType : "application/json; charset=utf-8",
                url : "{% url 'receiveData' %}",
                data: JSON.stringify({
                    vote: point,
                    csrfmiddlewaretoken : '{{ csrf_token }}'
                }),
				async: true,
                timeout : 100000,
				success : function(rs) {
					console.log("SUCCESS: ", rs);
				},
				error : function(e) {
					console.log("ERROR: ", e);
				}
			});
	}
		
	
	function submit() { 
		$(document).delegate('form', 'submit', function(event) {
		    var $form = $(this);
		    var id = $form.attr('id');
		    console.log(id);
		    event.preventDefault();
		    addVote(id);		    
		});	    
	}	
</script>
</body>
</html>